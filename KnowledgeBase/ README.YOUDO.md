# üìö KnowledgeBase

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ **–±–∞–∑—É –∑–Ω–∞–Ω–∏–π LuckyPack** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤, –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥–∏–∞–ª–æ–≥–∞—Ö –±–æ—Ç–∞ –∏ –≤ –∞–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª–∏.

**–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è**: –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (`products.json`) ‚Äî —ç—Ç–æ —Ü–∏—Ñ—Ä—ã (EAN, —Ü–µ–Ω—ã, —É–ø–∞–∫–æ–≤–∫–∏), –∞ KnowledgeBase ‚Äî —ç—Ç–æ **—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ —Ç–µ–∫—Å—Ç—ã** (–æ–ø–∏—Å–∞–Ω–∏—è, –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ). –í–º–µ—Å—Ç–µ –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç:
- –¥–∞–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É –≥—Ä–∞–º–æ—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ —Å—Ç–∏–ª–µ ¬´–∂–∏–≤–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞¬ª;
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ ¬´üìö –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π¬ª –∏ ¬´üîç –ü–æ–¥–±–æ—Ä –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é¬ª;
- –æ–±—ä—è—Å–Ω—è—Ç—å –∫–ª–∏–µ–Ω—Ç—É —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Ç–æ–≤–∞—Ä–∞–º–∏ (¬´—ç—Ç–∞ –ø–ª—ë–Ω–∫–∞ –º–∞—Ç–æ–≤–∞—è, 65 –º–∫–º, –∞ —Ç–∞ ‚Äî –±–∞—Ä—Ö–∞—Ç–∏—Å—Ç–∞—è 50 –º–∫–º¬ª);
- –¥–µ–ª–∞—Ç—å –∞–ø—Å–µ–ª–ª (¬´–∫ —ç—Ç–∏–º –∫–æ—Ä–∑–∏–Ω–∞–º —á–∞—Å—Ç–æ –±–µ—Ä—É—Ç —Ç–∏—à—å—é¬ª).

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```
KnowledgeBase/
‚îú‚îÄ‚îÄ incoming/        # –í—Ö–æ–¥—è—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (RTF, TXT, MD)
‚îÇ   ‚îî‚îÄ‚îÄ _failed/     # –°—é–¥–∞ –ø–æ–ø–∞–¥–∞—é—Ç —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å
‚îú‚îÄ‚îÄ src/             # –ß–∏—Å—Ç—ã–µ Markdown‚Äë–≤–µ—Ä—Å–∏–∏ (—Ä—É—á–Ω–∞—è –ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ normalized/      # JSON –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ –ø–æ–∏—Å–∫–∞
‚îú‚îÄ‚îÄ scripts/         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ kb_ingest.sh            # –ü–µ—Ä–µ–Ω–æ—Å/–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è incoming ‚Üí src
‚îÇ   ‚îî‚îÄ‚îÄ normalize_kb_sources.py # src/*.md ‚Üí normalized/knowledge_base.json
‚îú‚îÄ‚îÄ kb_run.sh        # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä: –ø—Ä–æ–≥–æ–Ω—è–µ—Ç ingest + normalize
‚îî‚îÄ‚îÄ readme.youdo     # –≠—Ç–æ—Ç —Ñ–∞–π–ª (–ø–æ—è—Å–Ω–µ–Ω–∏—è –∏ –ø–ª–∞–Ω)
```

## –†–∞–±–æ—á–∏–π —Ü–∏–∫–ª (—Ä—É—á–Ω–æ–π, –±–µ–∑ –∫—Ä–æ–Ω–∞)
1. **–ö–ª–∞–¥—ë–º —Ñ–∞–π–ª—ã –≤–æ `incoming/`** ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å .rtf, .txt, .md.
   - .md ‚Üí —Å—Ä–∞–∑—É –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ src/
   - .txt ‚Üí –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ —à–∞–±–ª–æ–Ω Markdown
   - .rtf ‚Üí —Ç—Ä–µ–±—É–µ—Ç `pandoc`; –±–µ–∑ –Ω–µ–≥–æ —Ñ–∞–π–ª —É–π–¥—ë—Ç –≤ incoming/_failed/

2. **–ó–∞–ø—É—Å–∫–∞–µ–º –æ–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç**:
   ```bash
   /srv/luckypack/project/KnowledgeBase/kb_run.sh
   ```
   ‚Üí –∏—Ç–æ–≥–æ–≤—ã–π JSON –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ `normalized/knowledge_base.json`

3. **–ò—Å–ø–æ–ª—å–∑—É–µ–º JSON**:
   - –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (`LuckyEmbeddings/KB/`),
   - –¥–ª—è –∫–Ω–æ–ø–∫–∏ ¬´üìö –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π¬ª,
   - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ LLM‚Äë—Ä–µ–∑—é–º–µ –ø—Ä–∏ –æ–±—â–µ–Ω–∏–∏ —Å –∫–ª–∏–µ–Ω—Ç–æ–º.

## –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏
- –î–µ—Ä–∂–∞—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ **—á–∏—Ç–∞–µ–º—ã–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏** (`src/*.md`), –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –º–∞—à–∏–Ω–Ω—ã–π JSON.
- –†–∞–∑–¥–µ–ª—è—Ç—å —Ä–æ–ª–∏:
  - **incoming/** ‚Äî ¬´–º—É—Å–æ—Ä–∫–∞¬ª: —Ç—É–¥–∞ –∫–∏–¥–∞—é—Ç –º–µ–Ω–µ–¥–∂–µ—Ä—ã –≤—Å—ë –ø–æ–¥—Ä—è–¥.
  - **src/** ‚Äî —á–∏—Å—Ç—ã–π, —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π –∞—Ä—Ö–∏–≤ (–ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏ –ø—Ä–∞–≤–æ–∫).
  - **normalized/** ‚Äî –≥–æ—Ç–æ–≤–∞—è –≤—ã–≥—Ä—É–∑–∫–∞ –¥–ª—è –º–∞—à–∏–Ω (–±–æ—Ç, —ç–º–±–µ–¥–¥–∏–Ω–≥–∏).
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∏—Å–∫ –ø–æ–ª–æ–º–∫–∏: JSON –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (—Ö—ç—à‚Äë–≥–≤–∞—Ä–¥).
- –õ–æ–≥–∏ —Ö—Ä–∞–Ω–∏—Ç—å –≤ `/srv/luckypack/logs/knowledgebase.log`.

## –ö–æ–≥–¥–∞ –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫—Ä–∏—Ç–∏—á–Ω–∞
- üì∑ **Search by Photo** —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –±–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç EAN –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏. –ù–æ –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏–π –æ–Ω –º–æ–ª—á–∏—Ç —Å—É—Ö–æ.
- üìö **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π** –¥–∞—ë—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏—è, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ —Å–æ–≤–µ—Ç—ã –≤ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–º –≤–∏–¥–µ.
- üîç **–ü–æ–¥–±–æ—Ä –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é** –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –±–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –Ω–∞ —Ç–µ–∫—Å—Ç–∞—Ö KB.
- üõ† **–ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å**: —É–¥–æ–±–Ω–∞—è –∫–Ω–æ–ø–∫–∞ ¬´–î–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π¬ª —Å–º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å `kb_run.sh` –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å JSON/—ç–º–±–µ–¥–¥–∏–Ω–≥–∏.

## –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è
1. **MVP (—É–∂–µ –µ—Å—Ç—å)**:
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫.
   - –°–∫—Ä–∏–ø—Ç—ã ingest + normalize.
   - –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫.

2. **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**:
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å `pandoc` –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (—á—Ç–æ–±—ã RTF ‚Üí MD —à—ë–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
   - –°–¥–µ–ª–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –∞–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª–∏: ¬´–î–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π¬ª (–≤—ã–∑–æ–≤ `kb_run.sh`).
   - –°–æ–±–∏—Ä–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –≤ `LuckyEmbeddings/KB/` (–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç —Ç–æ–≤–∞—Ä–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞).

3. **–ü–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –≤ –ø—Ä–æ–¥**:
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –∫–Ω–æ–ø–∫–µ ¬´üìö –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π¬ª ‚Üí –æ—Ç–≤–µ—Ç—ã –∏–∑ KB.
   - –í–Ω–µ–¥—Ä–∏—Ç—å KB –≤ –¥–∏–∞–ª–æ–≥–∏ (LLM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON + —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫).
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–ø—Å–µ–ª–ª–æ–≤ –∏ FAQ (–Ω–∞ –±–∞–∑–µ advantages/applications).

## –ò—Ç–æ–≥
KnowledgeBase ‚Äî —ç—Ç–æ **–≤—Ç–æ—Ä–æ–π —Å–ª–æ–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞** –¥–ª—è LuckyPackBot. –û–Ω –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç —Ç–æ–≤–∞—Ä—ã (`products.json`), –∞ –¥–µ–ª–∞–µ—Ç –æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∏–µ–Ω—Ç–æ–º –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (cron, –∞–¥–º–∏–Ω‚Äë–∫–Ω–æ–ø–∫–∏) ‚Äî –≤—Ç–æ—Ä–∏—á–Ω–∞. –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∂–µ –≥–æ—Ç–æ–≤–∞, –∏ —Ç–µ–∫—Å—Ç—ã –º–æ–∂–Ω–æ –∞–∫–∫—É–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ö–æ—Ç—å —Å–µ–≥–æ–¥–Ω—è.
